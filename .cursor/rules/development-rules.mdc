---
description: "Implementation rules for Moto-HSES Rust Client. USE WHEN: implementing features, running tests, or reviewing code."
globs: "**/*"
alwaysApply: true
---

# Moto-HSES Rust Client Library Development Rules

## Development Approach

This project implements features step by step, ensuring that unit tests pass at each stage of development.

## Incremental Implementation Principle

- Run unit tests after each step completion and ensure all tests pass
- If tests fail, do not proceed to the next step until fixes are complete
- For testing, refer to `.cursor/commands/run-all-tests.md`
- **CRITICAL**: Always run `cargo clippy --all-features --workspace` to resolve warnings
- **CRITICAL**: Always run `cargo fmt` to standardize code formatting

## Specification Reference Priority

When there are unclear points, refer to specifications in the following order:

1. **moto-hses-usage** skill - HSES Protocol Command Reference (see `references/protocol-commands.md` in the skill)
2. `docs/design/architecture.md` - Architecture Design
3. **hses-protocol** skill - HSES Protocol Specification (see `references/hses-protocol.md` in the skill)

## Code Quality Rules

**See**: `.cursor/rules/coding-standards.mdc` for detailed coding standards and quality rules.

## Documentation Rules

### README.md Updates

When implementing new commands or features, **CRITICAL** documentation rules:

- **Update ALL README.md files**: Always update README.md files in ALL crates (client, proto, mock, root)
- **"Running Examples" Section**: 
  - **⚠️ CRITICAL**: Do NOT add example execution commands to "Running Examples" section
  - The "Running Examples" section should only contain `alarm_operations` example
  - This prevents README.md from becoming cluttered with unnecessary example calls
  - New examples should be documented in the "Examples" section, not "Running Examples"
- **"Supported Commands" Section**: Add new commands to the "Supported Commands" section in all README.md files

**Files to update for new commands**:
- `moto-hses-client/README.md`
- `moto-hses-proto/README.md` 
- `moto-hses-mock/README.md`
- Root `README.md`
