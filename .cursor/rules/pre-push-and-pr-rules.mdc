---
description: "Pre-push / PR checklist. Apply when committing, pushing, or creating a pull request."
globs: "**/*"
alwaysApply: true
---

# Pre-Push and Pull Request Rules

## Pre-Push Checklist

Before pushing code to any branch, especially before creating pull requests, ensure all local checks pass:

### 1. Code Formatting

```bash
cargo fmt --all -- --check
```

- **Required**: All code must be properly formatted
- **Fix if needed**: `cargo fmt --all`

### 2. Static Analysis

```bash
cargo clippy --all-targets --all-features -- -D warnings
```

- **Required**: No Clippy warnings or errors
- **Fix if needed**: Address all warnings before pushing

### 3. Tests

```bash
cargo test --all-features --workspace
```

- **Required**: All tests must pass
- **Coverage**: Ensure new functionality has appropriate test coverage

### 4. Security Audit

```bash
cargo audit
```

- **Required**: No known security vulnerabilities
- **Action**: Update dependencies if vulnerabilities are found

### 5. Dependency Check

```bash
cargo outdated
```

- **Recommended**: Check for outdated dependencies
- **Action**: Update dependencies when safe to do so

## Pull Request Requirements

### Title Format

Follow conventional commit format:

```
type: brief description
```

Examples:

- `feat: implement comprehensive file operations`
- `fix: resolve file handling issues`
- `refactor: improve mock server architecture`

### Description Template

Use the structured format defined in `.github/pull_request_template.md` for all pull requests.
